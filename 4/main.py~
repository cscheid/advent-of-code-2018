import re
import datetime
import sys

r = re.compile(r'\[([0-9]+)-([0-9]+)-([0-9]+) ([0-9]+):([0-9]+)\] (.+)')

class Event:
    def __init__(self, year, month, day, hour, minute, description):
        self.when = datetime.datetime(int(year), int(month), int(day),
                                      int(hour), int(minute))
        if description.startswith('Guard'):
            assert(description.split()[2:] == ['begins', 'shift'])
            self.guard = description.split()[1][1:]
            self.what = 'begins-shift'
        elif description == 'falls asleep':
            self.what = 'falls-asleep'
        elif description == 'wakes up':
            self.what = 'wakes-up'
        else:
            raise Exception("Don't know what to do with %s" % description)
        
       
def parse_event(line):
    result = r.match(line.strip())
    return Event(*result.groups())

if __name__ == '__main__':
    print(parse_event(l) for l in sys.stdin)
